.nestedlisting {
  .thing.comment.noncollapsed::before {
    background: lighten($res-night-bg, 8%);
  }
}

.commentarea {
  border-top-color: darken($res-night-bg, 10%);
  @include shadow(inset 0 1px 0 lighten($res-night-bg, 5%));

  .commentNavSortType,
  #REScommentSubToggle {
    @extend %tn-dark-button;
  }
}

.linklisting,
.commentarea {
  .comment {
    &.noncollapsed {
      > .entry {
        &,
        &.RES-keyNav-activeElement {
          background: $res-night-comment-bg !important;
        }

        &::before {
          border-right-color: $res-night-comment-bg;
        }

        .tagline {
          background: none;
          border-bottom-color: lighten($res-night-comment-bg, 8%);
        }

        .flat-list.buttons {
          background: lighten($res-night-comment-bg, 5%);
          border-top-color: lighten($res-night-comment-bg, 8%);
        }

        &.RES-keyNav-activeElement .usertext-body {
          &,
          & .md p {
            background: none !important;
          }
        }
      }

      &.spam > .entry {
        &::before {
          border-right-color: $res-night-spam-tagline-bg;
        }

        > .tagline {
          background-color: $res-night-spam-tagline-bg;
        }
      }

      &.new-comment {
        .usertext-body .md {
          border: none;
        }

        .usertext-body,
        .entry.RES-keyNav-activeElement .usertext-body {
          border-top: solid 1px $res-night-new-comment-border-color;
          border-bottom: solid 1px $res-night-new-comment-border-color;
          background-color: $res-night-new-comment-bg !important;
        }
      }
    }
  }
}

.gold-accent.comment-visits-box {
  @extend %tn-dark-info-box;
}
