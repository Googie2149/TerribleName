%tn-dark-background {
  background: $res-night-bg url($res-night-bg-image) left top repeat !important;
}

%tn-dark-engraved-box {
  @include linear-gradient(top, lighten($res-night-bg, 8%), lighten($res-night-bg, 5%));
  @include shadow(inset 0 1px 2px rgba(0, 0, 0, 0.5), 0 1px 0 lighten($res-night-bg, 20%));
}

%tn-dark-raised-box {
  border: none !important;
  @include linear-gradient(top, lighten($res-night-bg, 8%), lighten($res-night-bg, 5%));
  @include shadow(inset 0 1px 0 lighten($res-night-bg, 18%), 0 1px 2px rgba(0, 0, 0, 0.3));
}

%tn-dark-text-container {
  background-color: $res-night-text-bg !important;
  color: $res-night-text-fg !important;
}

%tn-dark-button-default,
%tn-dark-button {
  color: $res-night-button-fg !important;
  border: none;
  text-shadow: 0 1px 1px darken($res-night-button-bg, 15%);
  padding: 3px 7px;
  @include linear-gradient(top, $res-night-button-bg, darken($res-night-button-bg, 10%));
  @include shadow(inset 0 1px 0 lighten($res-night-button-bg, 10%), 0 1px 1px rgba(0, 0, 0, 0.3));

  &:hover {
    @include linear-gradient(top, lighten($res-night-button-bg, 3%), darken($res-night-button-bg, 7%));
  }
}

%tn-dark-button-pressed,
%tn-dark-button:active {
  @include shadow(inset 0 2px 3px darken($res-night-button-bg, 20%), 0 1px 0 lighten($res-night-bg, 20%));
}

%tn-dark-big-button {
  &,
  &:hover,
  &:focus {
    @include linear-gradient(top, $res-night-big-button-bg, darken($res-night-big-button-bg, 6%));
  }

  &:active {
    @include linear-gradient(top, $res-night-big-button-bg, darken($res-night-big-button-bg, 10%));
    @include shadow(inset 0 2px 3px darken($res-night-button-bg, 20%), 0 1px 0 lighten($res-night-bg, 20%));
  }
}

%tn-dark-toolbar {
  border: solid 1px $res-night-bg;
  color: $res-night-fg;
  @include linear-gradient(top, $res-night-editor-toolbar-bg, darken($res-night-editor-toolbar-bg, 8%));
  @include shadow(inset 0 1px 0 lighten($res-night-editor-toolbar-bg, 8%));
}

%tn-dark-input {
  background: $res-night-input-bg !important;
  color: $res-night-input-fg !important;
  border: solid 1px $res-night-bg !important;
  @include shadow(inset 0 1px 2px darken($res-night-input-bg, 4%), 0 1px 0 rgba(255, 255, 255, 0.13));
}

%tn-dark-info-box {
  background: $res-night-info-box-bg;
  color: $res-night-info-box-fg;
  border: solid 1px darken($res-night-bg, 2%);
  @include shadow(0 1px 2px darken($res-night-bg, 3%), inset 0 1px 0 lighten($res-night-info-box-bg, 7%));
}

%tn-dark-special-entry {
  background-color: $res-night-special-entry-bg !important;
  color: $res-night-fg;
  border: none !important;
  @include shadow(0 1px 2px darken($res-night-bg, 5%));
}

%tn-alt-link {
  color: $res-night-link-fg !important;
  &:visited {
    color: $res-night-link-fg-visited !important;
  }
}

%tn-common-dark-entry {
  .entry {
    > .title {
      > a.title {
        &,
        &.loggedin {
          @extend %tn-alt-link;
        }
      }

      > .domain > a {
        color: darken($res-night-fg, 30%) !important;
      }
    }

    .flat-list.buttons {
      > li {
        &.reported-stamp.stamp {
          @include shadow(none);
        }

        a,
        .redditSingleClick {
          color: lighten($res-night-fg, 5%) !important;
        }
      }

      > li a,
      > li > .redditSingleClick,
      > .big-mod-buttons .pretty-button {
        &:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
      }
    }

    &,
    &.RES-keyNav-activeElement {
      .usertext > .usertext-body > .md {
        @extend %tn-dark-text-container;
      }
    }
  }

  .thumbnail {
    &:before {
      opacity: 0.6;
      @include shadow(none);
    }

    &.default:before {
      background: lighten($res-night-bg, 15%);
    }

    img {
      background-color: lighten($res-night-bg, 20%);
    }
  }
}

%tn-dark-comment-bubble {
  &,
  &.RES-keyNav-activeElement {
    background: $res-night-comment-bg !important;
  }

  &.RES-keyNav-activeElement:after {
    background-color: $res-night-active-element-color;
  }

  &:before {
    border-right-color: $res-night-comment-bg;
  }

  .tagline {
    background: none;
    border-bottom-color: lighten($res-night-comment-bg, 8%);
  }

  .flat-list.buttons {
    background: lighten($res-night-comment-bg, 5%);
    border-top-color: lighten($res-night-comment-bg, 8%);
  }
}

%tn-dark-list-entry-separator {
  border-top: solid 1px darken($res-night-bg, 4%) !important;
  @include shadow(inset 0 1px 0 lighten($res-night-bg, 8%));
}

%tn-dark-dropdown-menu {
  background: $res-night-dropdown-menu-bg;
  border: none;
  color: $res-night-dropdown-menu-fg;
  @include shadow(0 3px  5px rgba(0, 0, 0, 0.4));
}

%tn-dark-dropdown-item {
  &:hover {
    background: $res-night-dropdown-item-focused-bg;
  }
}
